# photoview概要
photoviewは地図中央に近い写真を上部に表示して、撮影位置と線で結ぶQGISスタイルで、ジオタグ付写真からレイヤを作成するモデル、パラメータ（プロジェクト変数）を設定するモデルが付属します。

<img src="/PHOTOVIEW.PNG" width="500">

# QGISモデルの使い方
* モデルの登録 プロセッシングツールボックスパネルの上部の歯車のアイコン→ツールボックスにモデルを追加
* スタイルの登録 パネルに追加されたモデルを右クリック→出力のためのレンダリングスタイルを編集→QGISスタイルファイル（.qml）を割り当てる。
* モデルの実行 パネルに追加されたモデルをダブルクリック
# 登録ファイルの説明
## PhotoView_Inport.model3
* QGISのモデル。ジオタグ付きの写真のフォルダを指定して、photoviewスタイル用のデータ（レイヤ）を作成します。
### プロセッシング実行の前準備
* プロセッシングツールボックスに登録し、「出力のためのレンダリングスタイルを編集」に「PhotoView.qml」を設定する。
* プロジェクトのCRSを投影座標に設定する。
### プロセッシングの処理内容
* 「ジオタグ（位置情報）付きの写真」でレイヤ作成
* 「レイヤの再投影」でプロジェクトCRSに変換
* 「属性のリファクタリング」でinvisible（真偽値）,label（STRING）フィールド追加
## PhotoView_Parameter.model3
* QGISのモデル。photoviewスタイルのパラメータ（モデル変数）を設定・更新します。
## PhotoView.qml
* QGISのスタイルファイル。
* プロジェクトCRSとレイヤのCRSは同じ投影座標にする必要がある。
* invisible フィールドがtrueの場合、写真を表示せず、撮影位置はグレー表示となる。invisible フィールドがない場合、及びfalseの場合は写真を表示する。
* label フィールドに値がある場合ラベルとして使用。ない場合filenameフィールドを使用する。
# 動作確認
* QGIS3.16.16,QGIS3.22.9 / Windows10
# 既知の問題
* QGIS3.16では縦撮りの写真が横になる。QGIS3.22では縦になるがアンカー位置が写真の中間部になる（期待されるのは写真上部中央）
* 地図の回転には対応しない
